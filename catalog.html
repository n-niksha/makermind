<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Catalog | MakerMind</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Space+Grotesk:wght@300;400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Catalog Specific Styles */
        .catalog-header {
            padding: 4rem 0 2rem;
            text-align: center;
        }

        .search-container {
            max-width: 600px;
            margin: 2rem auto;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-main);
            font-family: var(--font-body);
            font-size: 1.1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: var(--primary);
        }

        .filters-bar {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 3rem;
        }

        .filter-select {
            background: var(--bg-card);
            border: 1px solid var(--border);
            color: var(--text-muted);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-family: var(--font-body);
            cursor: pointer;
        }

        .empty-state {
            text-align: center;
            padding: 4rem;
            color: var(--text-muted);
            display: none;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="logo"><a href="index.html" style="text-decoration:none; color:inherit;">MakerMind<span
                        class="dot">.</span></a></div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="catalog.html" class="active">Catalog</a>
            </div>
        </nav>

        <!-- Catalog Header -->
        <div class="catalog-header">
            <h1 class="animate-up">Explore Everything</h1>
            <p class="animate-up delay-1" style="color: var(--text-muted);">Browse our full library of engineering
                projects.</p>

            <div class="search-container animate-up delay-2">
                <input type="text" id="search-input" class="search-input"
                    placeholder="Search projects (e.g., 'Robot', 'Arduino', 'Easy')...">
            </div>

            <div class="filters-bar animate-up delay-2">
                <select id="filter-category" class="filter-select">
                    <option value="all">All Categories</option>
                    <option value="Useful">Useful</option>
                    <option value="Fun">Fun</option>
                    <option value="Portfolio">Portfolio</option>
                </select>
                <select id="filter-difficulty" class="filter-select">
                    <option value="all">Any Difficulty</option>
                    <option value="1">Level 1 (Beginner)</option>
                    <option value="2">Level 2</option>
                    <option value="3">Level 3 (Intermediate)</option>
                    <option value="4">Level 4</option>
                    <option value="5">Level 5 (Advanced)</option>
                </select>
                <select id="filter-time" class="filter-select">
                    <option value="all">Any Duration</option>
                    <option value="1 Hour">Quick (1 Hour)</option>
                    <option value="1 Day">1 Day</option>
                    <option value="Weekend">Weekend</option>
                    <option value="Weeks">Weeks+</option>
                </select>
            </div>
        </div>

        <!-- Projects Grid -->
        <div class="projects-grid" id="catalog-grid">
            <!-- Dynamic Content -->
        </div>

        <div id="empty-state" class="empty-state">
            <h3>No projects found matching your filters.</h3>
            <p>Try adjusting your search terms.</p>
        </div>
    </div>

    <script src="projects.js"></script>
    <script>
        // Catalog Logic
        const grid = document.getElementById('catalog-grid');
        const searchInput = document.getElementById('search-input');
        const filterCategory = document.getElementById('filter-category');
        const filterDifficulty = document.getElementById('filter-difficulty');
        const filterTime = document.getElementById('filter-time');
        const emptyState = document.getElementById('empty-state');

        function renderCatalog() {
            const searchTerm = searchInput.value.toLowerCase();
            const cat = filterCategory.value;
            const diff = filterDifficulty.value;
            const time = filterTime.value;

            grid.innerHTML = '';
            let matchCount = 0;

            projects.forEach((project, index) => {
                // Filter Logic
                const matchesSearch = project.title.toLowerCase().includes(searchTerm) ||
                    project.tags.some(t => t.toLowerCase().includes(searchTerm));
                const matchesCat = cat === 'all' || project.category === cat;
                const matchesDiff = diff === 'all' || project.difficulty.toString() === diff;

                // Loose time matching
                let matchesTime = true;
                if (time !== 'all') {
                    if (time === 'Weeks') matchesTime = project.time.includes('Week') || project.time.includes('Month') || project.time.includes('Long');
                    else matchesTime = project.time.includes(time);
                }

                if (matchesSearch && matchesCat && matchesDiff && matchesTime) {
                    matchCount++;
                    const card = document.createElement('div');
                    card.className = 'project-card animate-up';
                    card.style.animationDelay = `${Math.min(index * 0.05, 0.5)}s`; // Cap delay
                    card.innerHTML = `
                        <div class="card-image">
                            <div style="width:100%; height:100%; background: linear-gradient(45deg, #2a2a30, #1c1c21); display:flex; align-items:center; justify-content:center; font-size:3rem;">
                                ${getCategoryIcon(project.category)}
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="card-tags">
                                <span class="tag" style="background:var(--primary-glow); color:var(--primary);">${project.category}</span>
                                <span class="tag">Lvl ${project.difficulty}</span>
                            </div>
                            <h3 class="card-title">${project.title}</h3>
                            <p style="font-size:0.9rem; color:var(--text-muted); line-height:1.4;">${project.description}</p>
                            <div class="card-meta">
                                <span>‚è±Ô∏è ${project.time}</span>
                                <span>üí∞ ${project.cost}</span>
                            </div>
                        </div>
                    `;
                    // Link to detailed project page
                    card.addEventListener('click', () => {
                        window.location.href = `project.html?id=${project.id}`;
                    });
                    grid.appendChild(card);
                }
            });

            if (matchCount === 0) {
                emptyState.style.display = 'block';
            } else {
                emptyState.style.display = 'none';
            }
        }

        function getCategoryIcon(category) {
            if (category === 'Useful') return 'üõ†Ô∏è';
            if (category === 'Fun') return 'üéÆ';
            if (category === 'Portfolio') return 'üöÄ';
            return 'üì¶';
        }

        // Event Listeners
        searchInput.addEventListener('input', renderCatalog);
        filterCategory.addEventListener('change', renderCatalog);
        filterDifficulty.addEventListener('change', renderCatalog);
        filterTime.addEventListener('change', renderCatalog);

        // Initial Render
        renderCatalog();
    </script>
</body>

</html>